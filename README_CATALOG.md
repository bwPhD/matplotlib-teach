# Matplotlib å‚æ•°ç™¾ç§‘å…¨ä¹¦ - ä½¿ç”¨æŒ‡å—

## ğŸ“– æ¦‚è¿°

æœ¬é¡¹ç›®å°†åŸæœ‰çš„ Matplotlib æ•™å­¦ç½‘ç«™å‡çº§ä¸º**å‚æ•°é€‰é¡¹ç™¾ç§‘å…¨ä¹¦ï¼ˆCatalogï¼‰**ï¼Œæä¾›æ‰€æœ‰ Matplotlib å‚æ•°çš„å®Œæ•´é€‰é¡¹åˆ—è¡¨ã€é¢„è§ˆå›¾å’Œä»£ç ç¤ºä¾‹ã€‚

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- âœ… **å…¨é‡æšä¸¾**ï¼šä» Matplotlib API åŠ¨æ€æå–é€‰é¡¹ï¼Œä¸æ‰‹å†™åˆ—è¡¨
- âœ… **é¢„è§ˆç”»å»Š**ï¼šæ¯ä¸ªé€‰é¡¹éƒ½æœ‰å¯è§†åŒ–é¢„è§ˆ
- âœ… **ä»£ç ç”Ÿæˆ**ï¼šæä¾›å¯å¤åˆ¶çš„æœ€å°ä»£ç ç¤ºä¾‹
- âœ… **äº¤äº’å¼è‡ªå®šä¹‰**ï¼šæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å‚æ•°ï¼ˆå¦‚ linestyle å…ƒç»„å½¢å¼ï¼‰
- âœ… **ç‰ˆæœ¬å…¼å®¹**ï¼šæ˜¾ç¤º Matplotlib ç‰ˆæœ¬ï¼Œæ ‡æ³¨å¯èƒ½çš„å˜åŒ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. è¿è¡Œåº”ç”¨

```bash
streamlit run app.py
```

### 3. è®¿é—®å‚æ•°ç™¾ç§‘

#### Line ç±»å‚æ•°ï¼š
1. æ‰“å¼€ä¾§è¾¹æ  â†’ é€‰æ‹© **"3. åŸºç¡€ç¬”è§¦ (The Brushes)"**
2. ç‚¹å‡» Tab â†’ **"Line2D (çº¿æ¡)"**
3. é€‰æ‹© **"å‚æ•°ç™¾ç§‘ (Catalog)"** æ¨¡å¼
4. ä»ä¸‹æ‹‰æ¡†é€‰æ‹©å‚æ•°ï¼ˆ`linestyle`, `drawstyle`, `capstyle`, `joinstyle`ï¼‰

#### Marker ç±»å‚æ•°ï¼š
1. æ‰“å¼€ä¾§è¾¹æ  â†’ é€‰æ‹© **"3. åŸºç¡€ç¬”è§¦ (The Brushes)"**
2. ç‚¹å‡» Tab â†’ **"Collections (æ•£ç‚¹)"**
3. é€‰æ‹© **"å‚æ•°ç™¾ç§‘ (Catalog)"** æ¨¡å¼
4. ä»ä¸‹æ‹‰æ¡†é€‰æ‹©å‚æ•°ï¼ˆ`marker`, `fillstyle`ï¼‰

#### Color / Text / Axes / Figure ç±»å‚æ•°ï¼š
1. æ‰“å¼€ä¾§è¾¹æ  â†’ é€‰æ‹© **"4. å¸ƒå±€ä¸ç¾å­¦ (Layout & Style)"**
2. é€‰æ‹© **"å‚æ•°ç™¾ç§‘ (Catalog)"** æ¨¡å¼
3. é€‰æ‹©ç±»åˆ«ï¼ˆText / Axes / Figure / Colorï¼‰
4. ä»ä¸‹æ‹‰æ¡†é€‰æ‹©å…·ä½“å‚æ•°

## ğŸ“ é¡¹ç›®ç»“æ„

```
matplotlib-teach/
â”œâ”€â”€ app.py                    # ä¸»åº”ç”¨ï¼ˆå·²é›†æˆç›®å½•åŠŸèƒ½ï¼‰
â”œâ”€â”€ catalogs/                 # å‚æ•°ç›®å½•æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ utils.py             # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ line.py              # Line ç›¸å…³å‚æ•°ï¼ˆ4ä¸ªå‚æ•°ï¼‰
â”‚   â”œâ”€â”€ marker.py            # Marker ç›¸å…³å‚æ•°ï¼ˆ2ä¸ªå‚æ•°ï¼‰
â”‚   â”œâ”€â”€ color.py             # Color ç›¸å…³å‚æ•°ï¼ˆ2ä¸ªå‚æ•°ï¼‰
â”‚   â”œâ”€â”€ text.py              # Text ç›¸å…³å‚æ•°ï¼ˆ4ä¸ªå‚æ•°ï¼‰
â”‚   â”œâ”€â”€ axes.py              # Axes ç›¸å…³å‚æ•°ï¼ˆ3ä¸ªå‚æ•°ï¼‰
â”‚   â””â”€â”€ figure.py            # Figure ç›¸å…³å‚æ•°ï¼ˆ3ä¸ªå‚æ•°ï¼‰
â”œâ”€â”€ CATALOG_DESIGN.md        # å®Œæ•´è®¾è®¡æ–¹æ¡ˆ
â”œâ”€â”€ IMPLEMENTATION_SUMMARY.md # Phase 1 å®æ–½æ€»ç»“
â”œâ”€â”€ PHASE2_SUMMARY.md        # Phase 2 å®æ–½æ€»ç»“
â”œâ”€â”€ PHASE3_4_SUMMARY.md      # Phase 3 & 4 å®æ–½æ€»ç»“
â””â”€â”€ README_CATALOG.md        # æœ¬æ–‡ä»¶
```

## ğŸ“‹ å·²å®ç°çš„å‚æ•°

### Lineï¼ˆçº¿æ¡ï¼‰ç±» âœ…

| å‚æ•° | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `linestyle` | âœ… å®Œæˆ | çº¿å‹ï¼ˆå­—ç¬¦ä¸² + å…ƒç»„å½¢å¼ï¼‰ |
| `drawstyle` | âœ… å®Œæˆ | ç»˜åˆ¶æ ·å¼ï¼ˆdefault/stepsç­‰ï¼‰ |
| `capstyle` | âœ… å®Œæˆ | çº¿ç«¯æ ·å¼ï¼ˆbutt/round/projectingï¼‰ |
| `joinstyle` | âœ… å®Œæˆ | è¿æ¥æ ·å¼ï¼ˆmiter/round/bevelï¼‰ |

### Markerï¼ˆæ ‡è®°ç‚¹ï¼‰ç±» âœ…

| å‚æ•° | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `marker` | âœ… å®Œæˆ | æ ‡è®°ç¬¦å·ï¼ˆ41ä¸ªé€‰é¡¹ï¼ŒæŒ‰ç±»åˆ«åˆ†ç»„ï¼‰ |
| `fillstyle` | âœ… å®Œæˆ | å¡«å……æ ·å¼ï¼ˆ6ä¸ªé€‰é¡¹ï¼šfull/left/right/top/bottom/noneï¼‰ |

### Colorï¼ˆé¢œè‰²ï¼‰ç±» âœ…

| å‚æ•° | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `color` | âœ… å®Œæˆ | é¢œè‰²å€¼ï¼ˆåç§°/RGB/HEX/CNï¼Œ166+ä¸ªé€‰é¡¹ï¼‰ |
| `cmap` | âœ… å®Œæˆ | é¢œè‰²æ˜ å°„ï¼ˆ180ä¸ª colormapï¼ŒæŒ‰ç±»åˆ«åˆ†ç»„ï¼‰ |

### Textï¼ˆæ–‡æœ¬ï¼‰ç±» âœ…

| å‚æ•° | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `fontsize` | âœ… å®Œæˆ | å­—ä½“å¤§å°ï¼ˆæ•°å€¼/å­—ç¬¦ä¸²ï¼‰ |
| `fontweight` | âœ… å®Œæˆ | å­—ä½“ç²—ç»†ï¼ˆ19ä¸ªé€‰é¡¹ï¼‰ |
| `fontstyle` | âœ… å®Œæˆ | å­—ä½“æ ·å¼ï¼ˆ3ä¸ªé€‰é¡¹ï¼‰ |
| `fontfamily` | âœ… å®Œæˆ | å­—ä½“æ—ï¼ˆé€šç”¨5ä¸ª + ç³»ç»Ÿå­—ä½“ï¼‰ |

### Axesï¼ˆåæ ‡è½´ï¼‰ç±» âœ…

| å‚æ•° | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `xlim` / `ylim` | âœ… å®Œæˆ | åæ ‡èŒƒå›´ï¼ˆå…ƒç»„å½¢å¼ï¼‰ |
| `grid` | âœ… å®Œæˆ | ç½‘æ ¼æ˜¾ç¤ºï¼ˆå¸ƒå°”/å­—å…¸ï¼‰ |
| `spines` | âœ… å®Œæˆ | è¾¹æ¡†æ§åˆ¶ï¼ˆtop/bottom/left/rightï¼‰ |

### Figureï¼ˆç”»å¸ƒï¼‰ç±» âœ…

| å‚æ•° | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `figsize` | âœ… å®Œæˆ | ç”»å¸ƒå°ºå¯¸ï¼ˆå…ƒç»„ï¼Œå•ä½ï¼šè‹±å¯¸ï¼‰ |
| `dpi` | âœ… å®Œæˆ | åˆ†è¾¨ç‡ï¼ˆæ•°å€¼ï¼Œå¸¸ç”¨72-600ï¼‰ |
| `facecolor` / `edgecolor` | âœ… å®Œæˆ | èƒŒæ™¯/è¾¹æ¡†é¢œè‰² |

### å¯é€‰æ‰©å±•å‚æ•°

- **Line ç±»**ï¼šlinewidth, dashes, alpha, zorder
- **Marker ç±»**ï¼šmarkersize, markeredgewidth, markeredgecolor
- **Color ç±»**ï¼šnorm
- **Text ç±»**ï¼šrotation, ha, va
- **Axes ç±»**ï¼šxlabel, ylabel, xticks, yticks, tick_params
- **Figure ç±»**ï¼štight_layout, constrained_layout

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### linestyle å‚æ•°ç™¾ç§‘

é€‰æ‹© `linestyle` åï¼Œé¡µé¢ä¼šæ˜¾ç¤ºï¼š

1. **å‚æ•°è¯´æ˜**ï¼šä½œç”¨ã€é€‚ç”¨èŒƒå›´ã€é»˜è®¤å€¼
2. **é¢„è§ˆç”»å»Š**ï¼šæ‰€æœ‰å­—ç¬¦ä¸²æ ·å¼çš„å¯è§†åŒ–é¢„è§ˆï¼ˆ2åˆ—å¸ƒå±€ï¼‰
3. **åˆæ³•å€¼è¡¨æ ¼**ï¼šå‚æ•°å€¼ã€ä»£ç ã€è¯´æ˜
4. **å…ƒç»„å½¢å¼è¯´æ˜**ï¼šè‡ªå®šä¹‰è™šçº¿æ ·å¼çš„ä½¿ç”¨æ–¹æ³•
5. **äº¤äº’å¼è‡ªå®šä¹‰**ï¼šå¯è°ƒæ•´ offsetã€dash_onã€dash_off å‚æ•°
6. **å¸¸è§å‘**ï¼šä½¿ç”¨æ—¶çš„æ³¨æ„äº‹é¡¹

### ä»£ç ç¤ºä¾‹

æ¯ä¸ªå‚æ•°é¡µé¢éƒ½æä¾›å¯å¤åˆ¶çš„ä»£ç ï¼š

```python
import matplotlib.pyplot as plt
import numpy as np

x = np.linspace(0, 10, 100)
y = np.sin(x)

fig, ax = plt.subplots(figsize=(8, 4))
ax.plot(x, y, linestyle='--', linewidth=2.5)
ax.set_title("Custom Dashed Line")
plt.show()
```

## ğŸ”§ æŠ€æœ¯å®ç°

### åŠ¨æ€é€‰é¡¹æå–

```python
from matplotlib.lines import Line2D
import matplotlib._enums

# linestyle
line = Line2D([0,1], [0,1])
linestyles = line.lineStyles  # {'-': '_draw_solid', ...}

# capstyle
capstyles = [e.value for e in matplotlib._enums.CapStyle]
```

### ç¼“å­˜ç­–ç•¥

æ‰€æœ‰é€‰é¡¹æå–å‡½æ•°éƒ½ä½¿ç”¨ `@st.cache_data` è£…é¥°å™¨ï¼š

```python
@st.cache_data
def get_linestyle_options():
    # ä» API æå–é€‰é¡¹
    return options
```

## ğŸ“ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°å‚æ•°é¡µé¢

1. **åœ¨ `catalogs/line.py` ä¸­æ·»åŠ æå–å‡½æ•°**ï¼š
   ```python
   @st.cache_data
   def get_newparam_options():
       # ä» Matplotlib API æå–
       return options
   ```

2. **å®ç°æ¸²æŸ“å‡½æ•°**ï¼š
   ```python
   def render_newparam_gallery():
       # å®ç°é¢„è§ˆç”»å»Šã€è¡¨æ ¼ã€ä»£ç ç”Ÿæˆå™¨ç­‰
       pass
   ```

3. **åœ¨ `render_catalog_page()` ä¸­æ·»åŠ è·¯ç”±**ï¼š
   ```python
   elif param_name == 'newparam':
       render_newparam_gallery()
   ```

4. **åœ¨ `app.py` çš„ä¸‹æ‹‰æ¡†ä¸­æ·»åŠ é€‰é¡¹**

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç‰ˆæœ¬å…¼å®¹æ€§**ï¼šæŸäº› API å¯èƒ½éš Matplotlib ç‰ˆæœ¬å˜åŒ–ï¼Œå·²åšç‰ˆæœ¬æ˜¾ç¤º
2. **æ€§èƒ½**ï¼šå¤§é‡é¢„è§ˆå›¾å¯èƒ½å½±å“åŠ è½½é€Ÿåº¦ï¼Œå·²ä½¿ç”¨ç¼“å­˜ä¼˜åŒ–
3. **è·¯å¾„é—®é¢˜**ï¼šç¡®ä¿ `catalogs` ç›®å½•åœ¨ `app.py` åŒçº§ç›®å½•

## ğŸ› æ•…éšœæ’é™¤

### å¯¼å…¥é”™è¯¯

å¦‚æœé‡åˆ° `ModuleNotFoundError: No module named 'catalogs'`ï¼š

1. æ£€æŸ¥ `catalogs` ç›®å½•æ˜¯å¦å­˜åœ¨
2. æ£€æŸ¥ `catalogs/__init__.py` æ˜¯å¦å­˜åœ¨
3. ç¡®ä¿åœ¨ `app.py` åŒçº§ç›®å½•è¿è¡Œ `streamlit run app.py`

### Matplotlib ç‰ˆæœ¬é—®é¢˜

å¦‚æœæŸäº› API è°ƒç”¨å¤±è´¥ï¼š

1. æ£€æŸ¥ Matplotlib ç‰ˆæœ¬ï¼š`python -c "import matplotlib; print(matplotlib.__version__)"`
2. æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ï¼Œå¯èƒ½éœ€è¦å›é€€åˆ°ç¡¬ç¼–ç é€‰é¡¹åˆ—è¡¨

## ğŸ“š å‚è€ƒæ–‡æ¡£

- **è®¾è®¡æ–¹æ¡ˆ**ï¼š`CATALOG_DESIGN.md` - å®Œæ•´çš„è®¾è®¡æ–¹æ¡ˆå’Œæ¶æ„
- **å®æ–½æ€»ç»“**ï¼š`IMPLEMENTATION_SUMMARY.md` - å·²å®Œæˆå·¥ä½œçš„æ€»ç»“
- **Matplotlib æ–‡æ¡£**ï¼šhttps://matplotlib.org/stable/
- **Streamlit æ–‡æ¡£**ï¼šhttps://docs.streamlit.io/

## ğŸ“ è®¾è®¡åŸåˆ™

1. **å…¨é‡æšä¸¾**ï¼šä¸æ‰‹å†™é€‰é¡¹åˆ—è¡¨ï¼Œä» API åŠ¨æ€æå–
2. **å¯å¤åˆ¶ä»£ç **ï¼šæ‰€æœ‰ä»£ç ç¤ºä¾‹éƒ½å¯ç›´æ¥è¿è¡Œ
3. **ç”¨æˆ·ä½“éªŒ**ï¼šé¢„è§ˆå›¾ + ä»£ç  + è¯´æ˜ + äº¤äº’å¼è‡ªå®šä¹‰
4. **ç‰ˆæœ¬å…¼å®¹**ï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼Œæ ‡æ³¨å¯èƒ½çš„å˜åŒ–
5. **æ€§èƒ½ä¼˜åŒ–**ï¼šä½¿ç”¨ç¼“å­˜é¿å…é‡å¤è®¡ç®—

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·å‚è€ƒï¼š
- Matplotlib å®˜æ–¹æ–‡æ¡£
- Streamlit ç¤¾åŒºè®ºå›
- é¡¹ç›® Issue è·Ÿè¸ª

---

**ç‰ˆæœ¬ä¿¡æ¯**ï¼šMatplotlib 3.10.7 | å¯èƒ½éšç‰ˆæœ¬å˜åŒ–

